window.togglePassword=function(e){const t=document.getElementById(e),o=document.getElementById(e==="password"?"password-toggle":"confirm-password-toggle");t.type==="password"?(t.type="text",o.classList.remove("fa-eye"),o.classList.add("fa-eye-slash")):(t.type="password",o.classList.remove("fa-eye-slash"),o.classList.add("fa-eye"))};window.removeFile=function(e,t,o,n){const s=document.getElementById(o).querySelector(`[data-file-id="${t}"]`);s&&s.remove(),r[e]=null,document.getElementById(n).value=""};const r={main:null,proofOfIncome:null};document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("password");e&&e.addEventListener("input",function(){const s=this.value,i=document.getElementById("password-strength");let a=0;s.length>=12&&(a+=25),/[A-Z]/.test(s)&&(a+=25),/[a-z]/.test(s)&&(a+=25),/[0-9]/.test(s)&&(a+=25),a<50?(i.className="h-1 rounded-full mt-2 bg-red-500",i.style.width=a+"%"):a<75?(i.className="h-1 rounded-full mt-2 bg-yellow-500",i.style.width=a+"%"):(i.className="h-1 rounded-full mt-2 bg-green-500",i.style.width=a+"%")});const t=document.getElementById("doc_path");t&&t.addEventListener("change",function(s){c(s.target.files[0],"main","docFileList","doc_path")});const o=document.getElementById("proof_of_income");o&&o.addEventListener("change",function(s){c(s.target.files[0],"proofOfIncome","proofOfIncomeFileList","proof_of_income")});const n=document.querySelector("[data-success]");n&&Swal.fire({icon:"success",title:"Success!",text:n.getAttribute("data-success"),confirmButtonText:"OK",confirmButtonColor:"#3B82F6"});const l=document.querySelector("[data-error]");l&&Swal.fire({icon:"error",title:"Registration Failed",text:l.getAttribute("data-error"),confirmButtonText:"Try Again",confirmButtonColor:"#EF4444"})});function c(e,t,o,n){if(!e)return;if(!["image/jpeg","image/jpg","image/png","application/pdf"].includes(e.type)){d("Invalid file type. Please upload PDF, PNG, or JPG files."),document.getElementById(n).value="";return}if(e.size>5*1024*1024){d("File size too large. Maximum size is 5MB."),document.getElementById(n).value="";return}r[t]&&removeFile(t,r[t]._fileId,o,n),r[t]=e,f(e,t,o,n)}function f(e,t,o,n){const l=document.getElementById(o),s=Date.now()+Math.random();l.innerHTML="";const i=document.createElement("div");i.className="flex items-center justify-between bg-blue-50 border border-blue-200 rounded-lg p-3",i.innerHTML=`
        <div class="flex items-center space-x-3">
            <i class="fas fa-file text-blue-500"></i>
            <span class="text-sm text-gray-700 truncate max-w-xs">${e.name}</span>
            <span class="text-xs text-gray-500">(${(e.size/1024/1024).toFixed(2)} MB)</span>
        </div>
        <button type="button" onclick="removeFile('${t}', ${s}, '${o}', '${n}')" class="text-red-500 hover:text-red-700 transition-colors">
            <i class="fas fa-times"></i>
        </button>
    `,i.dataset.fileId=s,e._fileId=s,l.appendChild(i)}function d(e){Swal.fire({icon:"error",title:"Upload Error",text:e,timer:3e3,showConfirmButton:!1})}
